function countVisiblePartners(){var e=$(".book-container:visible").length;$(".book-container:hidden").length;0===e?$(".filter-noresult-message").show():$(".filter-noresult-message").hide(),e<=10?$("#BookList").removeClass("more-partners").addClass("fewer-partners"):$("#BookList").removeClass("fewer-partners").addClass("more-partners")}function showActivation(){$("#BookList").fadeTo(50,0),$("#BookList").delay(200).fadeTo("fast",1)}function numberVisiblePartners(){$("#BookList .book-container:visible").find(".covers-js-rankNumber").each(function(e){$(this).empty(),$(this).append("#"+(1+e))})}function findCurrentPosition(){$("#BookList .book-container:visible").each(function(){var e=$(this).find(".covers-js-rankNumber").text();$(this).find("[data-toplist-data]").attr("data-toplist-data",e)})}function finishFilterSelection(){$(".topList-filterBy .__dropdown").removeClass("open"),$("button#betsmart-filter-category").attr("aria-expanded",function(e,t){return"true"==t?"false":"true"})}function showorhideAll(){$("div#BookList").each(function(){$(".book-container").removeClass("dtoggleable"),$(".betsmart-toplist-toggle-more-less").hide();var e=$(this).find("div.book-container").length;window.location.href.indexOf("matcher")>-1?e>5&&($("div.book-container",this).eq(4).nextAll(".book-container").hide().addClass("dtoggleable"),$(".showmore").show()):e>10&&$("div.book-container",this).eq(9).nextAll(".book-container").hide().addClass("dtoggleable"),e>10&&$(this).hasClass("more-partners")&&$(".showmore").show(),e<4&&$("div#BookList").parents(".betsmart-toplist-wFilters-wrapper").addClass("short-toplist")}),$("div#BookList").unbind().on("click",".betsmart-toplist-toggle-more-less",function(){$(this).hasClass("now-expanded")?($(".showmore").show().removeClass("now-expanded"),$(".showfewer").hide()):($(".showfewer").show().addClass("now-expanded"),$(".showmore").hide()),$(this).siblings("div.dtoggleable").toggle()})}function showorhideFiltered(){$(".book-container").removeClass("dtoggleable"),$(".betsmart-toplist-toggle-more-less").hide(),$("div#BookList.filter-active").each(function(){$(this).find("div.book-container.partner-selected").length>10&&($(this).find("div.book-container.partner-selected").eq(9).nextAll(".partner-selected").hide().addClass("dtoggleable"),$(".showmorefiltered").show())}),$("div#BookList").unbind().on("click",".betsmart-toplist-toggle-more-less",function(){$(this).hasClass("now-expanded")?($(".showmorefiltered").show().removeClass("now-expanded"),$(".showfewerfiltered").hide()):($(".showfewerfiltered").show().addClass("now-expanded"),$(".showmorefiltered").hide()),$(this).siblings("div.dtoggleable.partner-selected").toggle()})}function clearAllFilters(){showActivation(),$("#betSmart-filterBy-dropdown :checkbox").prop("checked",!1),stringToShow=stringReset,completeArray.length=0,document.getElementById("activeFilters").innerHTML="("+completeArray.length+")",document.getElementById("activeFilters2").innerHTML="("+completeArray.length+")",$(".book-container").show(),$("#BookList").removeClass("filter-active").addClass("no-betsmart-filter"),$(".section-clear").removeClass("filter-active"),$(".section-close").removeClass("filter-active"),$(".filterBy-header").removeClass("filter-active"),$(".book-container .partner-brick").removeClass("ranked-first-visible"),$(".book-container:visible:first .partner-brick").addClass("ranked-first-visible"),finishFilterSelection(),numberVisiblePartners(),countVisiblePartners(),showorhideAll()}function removePointZero(){$("#BookList .book-container .rating-value").each(function(){var e=$(this).text();e=e.replace("0.0","0"),e=e.replace("1.0","1"),e=e.replace("2.0","2"),e=e.replace("3.0","3"),e=e.replace("4.0","4"),e=e.replace("5.0","5"),$(this).text(e)})}function commonSort(){!function(){getSorted=function(e,t){return $($(e).toArray().sort(function(e,o){var s=parseFloat(e.getAttribute(t));return parseFloat(o.getAttribute(t))-s}))}}()}function commonSortReverse(){!function(){getSorted=function(e,t){return $($(e).toArray().sort(function(e,o){return parseFloat(e.getAttribute(t))-parseFloat(o.getAttribute(t))}))}}()}function commonSortHousekeeping(){$(".book-container .partner-brick").removeClass("ranked-first-visible"),$(".book-container:visible:first .partner-brick").addClass("ranked-first-visible"),$(".book-container[data-betsmart='0']").addClass("rated-zero-betsmart"),$(".book-container[data-featured_partner_rating='0']").addClass("rated-zero-featured_partner_rating"),$(".book-container[data-promos='0']").addClass("rated-zero-promos"),$(".book-container[data-payout='0']").addClass("rated-zero-payout"),$(".book-container[data-features='0']").addClass("rated-zero-features"),$(".book-container[data-user_experience='0']").addClass("rated-zero-user_experience"),$(".book-container[data-security='0']").addClass("rated-zero-security"),$(".book-container[data-support='0']").addClass("rated-zero-support"),$("#BookList.sort-betsmart:not(.sort-default) .book-container:visible:first .partner-brick").addClass("top-rated-partner"),countVisiblePartners(),numberVisiblePartners(),findCurrentPosition(),removePointZero()}function initialSort(){if("default"==(e=window.cmsDefaultSort))$(".dropdown-selected-value").text("All Sportsbooks"),$("#BookList").addClass("sort-default"),$("#betSmart-sortBy-dropdown li a").removeClass("active"),$('#betSmart-sortBy-dropdown li a[data-value="cms_default"]').addClass("active");else{if(!e)var e="betsmart";var t=e;$("#BookList").removeClass("sort-default"),$("#BookList").removeClass("sort-betsmart"),$("#BookList").addClass("sort-"+t),$("#betSmart-sortBy-dropdown li a").removeClass("active"),$("#betSmart-sortBy-dropdown li").find("a[data-value*='"+t+"']").addClass("active");var o=$("#betSmart-sortBy-dropdown li a.active").text();$(".dropdown-selected-value").text(o);var s="data-"+t.toString().toLowerCase();commonSort(),$sorted_items=getSorted("#BookList .book-container",s).prependTo("#BookList")}commonSortHousekeeping()}var completeArray=[],stringToShow="",stringReset=stringToShow;$("#betSmart-filterBy-dropdown :checkbox").click(function(){if($("#betSmart-filterBy-dropdown :checkbox").is(":checked")?(showActivation(),$(".book-container").hide(),$("#BookList").removeClass("no-betsmart-filter").addClass("filter-active"),$(".section-clear").addClass("filter-active"),$(".section-close").addClass("filter-active"),$(".filterBy-header").addClass("filter-active")):(showActivation(),$(".book-container").show(),$("#BookList").removeClass("filter-active").addClass("no-betsmart-filter"),$(".section-clear").removeClass("filter-active"),$(".section-close").removeClass("filter-active"),$(".filterBy-header").removeClass("filter-active")),stringToShow.includes("."+$(this).val())?stringToShow=stringToShow.replace("."+$(this).val(),""):stringToShow+="."+$(this).val(),completeArray.includes($(this).val())){var e=$(this).val();completeArray=$.grep(completeArray,function(t){return t!=e})}else completeArray.push($(this).val());$(stringToShow).show(),$(".book-container:visible").addClass("partner-selected").removeClass("partner-unselected"),$(".book-container:hidden").addClass("partner-unselected").removeClass("partner-selected"),$(".book-container .partner-brick").removeClass("ranked-first-visible"),$(".book-container:visible:first .partner-brick").addClass("ranked-first-visible"),document.getElementById("activeFilters").innerHTML="("+completeArray.length+")",document.getElementById("activeFilters2").innerHTML="("+completeArray.length+")",countVisiblePartners(),numberVisiblePartners(),showorhideFiltered(),0===stringToShow.length&&showorhideAll()}),$(".topList-filterBy .__dropdown").click(function(){$(this).hasClass("open")?$("body").addClass("betsmart-menu-open"):$("body").removeClass("betsmart-menu-open")}),$(".topList-sortBy").click(function(){$(this).has("__dropdown open")?$("body").toggleClass("betsmart-menu-open"):$("body").removeClass("betsmart-menu-open")}),$("button#betsmart-filter-category").on("click",function(){$(this).parent().toggleClass("open"),$(this).attr("aria-expanded",function(e,t){return"true"==t?"false":"true"})}),initialSort(),showorhideAll(),$(".book-container:visible:first .partner-brick").addClass("ranked-first-visible"),$("ul.filterdrop").each(function(){var e=$(this).find("li").length,t=e-7,o='<li class="toggle-menu-more-less">Show '+t+" more</li>";e>6&&($("li",this).eq(6).nextAll().hide().addClass("toggleable"),$(this).append(o))}),$("ul.filterdrop").on("click",".toggle-menu-more-less",function(){var e=$(this).siblings(".toggleable").length;$(this).hasClass("less")?$(this).text("Show "+e+" more").removeClass("less"):$(this).text("Show less").addClass("less"),$(this).siblings("li.toggleable").slideToggle(150)}),$("ul.benefits-list").each(function(){$(this).find("li").length>0&&($("li",this).nextAll(".benefits-item").hide().addClass("toggleable"),$(".toggle-more-benefits-details.showmore-details").show())}),$("ul.benefits-list").on("click",".toggle-more-benefits-details",function(){$(this).hasClass("less")?($(this).hide().removeClass("less"),$(this).siblings(".showmore-details").show().removeClass("less")):($(this).hide().addClass("less"),$(this).siblings(".showless-detail").show().addClass("less")),$(this).siblings("li.toggleable").slideToggle(150)});var partnerCount=$("#BookList .book-container").length;$.fn.removeClassStartingWith=function(e){return $(this).removeClass(function(t,o){return(o.match(new RegExp("\\S*"+e+"\\S*","g"))||[]).join(" ")}),this},$("#betSmart-sortBy-dropdown li a").click(function(){showActivation(),$(".book-container").show(),$("#BookList").removeClassStartingWith("sort-"),$(".comparison-table-header").removeClassStartingWith("sort-"),$("#betSmart-sortBy-dropdown li a").removeClass("active");var e=$(this).attr("data-value");$("#BookList").addClass("sort-"+e),$(".comparison-table-header").addClass("sort-"+e),$(this).addClass("active");var t=$("#betSmart-sortBy-dropdown li a.active").text();$(".dropdown-selected-value").text(t);var o="data-"+e.toString().toLowerCase();"data-cms_default"==o?commonSortReverse():commonSort(),$sorted_items=getSorted("#BookList .book-container",o).prependTo("#BookList"),commonSortHousekeeping(),$("#BookList").hasClass("filter-active")?($("#BookList.filter-active .book-container").hide(),$(stringToShow).show(),countVisiblePartners(),numberVisiblePartners(),$(".book-container .partner-brick").removeClass("ranked-first-visible"),$(".book-container:visible:first .partner-brick").addClass("ranked-first-visible"),showorhideFiltered()):showorhideAll()});